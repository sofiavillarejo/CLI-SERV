!function(){"use strict";var t={7322:function(t,e){var i=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Global=void 0;var r=function(){function t(t){var e=this;if(void 0===t&&(t=!1),this.d=document,this.w=window,this.logOn=!1,this.isReady=!1,this.impressionsOnePxArea=1e-4,this.impressionsThirtySecArea=100,this.impressionsThirtySecDelay=30,!t){if((!!this.getIeVersion(navigator.userAgent)||window.frameElement)&&void 0!==window.inDapIF&&window.inDapIF){this.log("FIF mode");var i=this.getTopWindow();this.w=i.currentWindow,this.d=this.w.document,this.friendlyIframe=i.currentFrame}}this.isAMPFrame=this.isAMP(),this.docReady((function(){return e.isReady=!0}))}return t.prototype.addElement=function(t,e,i,n){void 0===n&&(n=!1);var r=this.d.createElement(t);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.setAttribute(o,String(i[o]));return n?e.insertBefore(r,e.firstElementChild):e.appendChild(r),r},t.prototype.addEvent=function(t,e,i){t&&e&&i&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i))},t.prototype.addCss=function(t,e){void 0===e&&(e=this.d.getElementsByTagName("head")[0]);var i=this.d.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(this.d.createTextNode(t)),e.appendChild(i)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logOn&&console.log(t)},t.prototype.docReady=function(t,e,i){var n=this;void 0===e&&(e=this.w),void 0===i&&(i=this.d);var r=function(){n.log("ready"),i.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),t()};"complete"===i.readyState?setTimeout(t):(i.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))},t.prototype.winReady=function(t,e,i){var n=this;void 0===e&&(e=this.w),void 0===i&&(i=this.d);var r=function(){n.log("window loaded"),e.removeEventListener("load",r,!1),t()};e.addEventListener("load",r,!1)},t.prototype.tracking=function(t){t&&((new Image).src=t)},t.prototype.isChild=function(t,e){if(e)for(var i=e.parentNode;null!=i;){if(i===t)return!0;i=i.parentNode}return!1},t.prototype.getElementVisibility=function(t){var e=t.getBoundingClientRect(),i=(e.right-e.left)*(e.bottom-e.top);if(0===i)return 0;var n=Math.max(0,Math.min(e.bottom,this.w.innerHeight)-Math.max(0,e.top)),r=Math.max(0,Math.min(e.right,this.w.innerWidth)-Math.max(0,e.left));return Math.round(n*r*100/i)},t.prototype.checkTabVisibility=function(t,e){var i=this,n=function(){if("hidden"in i.d)return"hidden";for(var t=0,e=["webkit","moz","ms","o"];t<e.length;t++){var n=e[t];if(n+"Hidden"in document)return n+"Hidden"}return null},r=n();if(r){var o=r.replace(/[H|h]idden/,"")+"visibilitychange";this.addEvent(this.d,o,(function(){var r;(r=n())&&i.d[r]?e():t()}))}},t.prototype.getIosVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)]}},t.prototype.isExternal=function(t,e){var i=this.getDomain(e);return-1===t.indexOf(i)},t.prototype.getDomain=function(t){var e=t;if(null!=t){var i=t.split(".").reverse();null!=i&&i.length>1&&(e=i[1]+"."+i[0])}return e},t.prototype.offsetTop=function(t){var e=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop),t=t.offsetParent}while(t);return e},t.prototype.isString=function(t){return"string"==typeof t||t instanceof String},t.prototype.isObjectEmpty=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype},t.prototype.isFirefox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},t.prototype.getPageHeight=function(){var t=this.d.body,e=this.d.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},t.prototype.getIeVersion=function(t){t=t||navigator.userAgent;var e=/\b(MSIE |Trident.*?rv:|Edge\/)(\d+)/.exec(t);return e?parseInt(e[2],10):void 0},t.prototype.offset=function(t){var e=t.getBoundingClientRect(),i=this.w.pageYOffset||this.d.documentElement.scrollTop;return{top:e.top+i,bottom:e.bottom+i,left:e.left,right:e.right}},t.prototype.removeElement=function(t){var e;null===(e=null==t?void 0:t.parentNode)||void 0===e||e.removeChild(t)},t.prototype.triggerCustomEvent=function(t,e,i,n){var r;(void 0===i&&(i=null),void 0===n&&(n={width:void 0,height:void 0}),t.length)&&(this.d.createEvent?(r=this.d.createEvent("HTMLEvents")).initEvent(t,!0,!0):(r=this.d.createEventObject()).eventType=t,r.eventName=t,null!==i&&(r.videoDuration=i),void 0!==n.width&&void 0!==n.height&&(r.creativeSize=n),r.formatId=e,this.d.createEvent?this.w.dispatchEvent(r):this.w.fireEvent("on"+r.eventType,r))},t.prototype.getTopWindow=function(){for(var t=5,e=window,i=this.getIeVersion(navigator.userAgent)?null:window.frameElement;t--;)try{e.parent&&e.parent.document&&(i=e.frameElement,(e=e.parent)===e.parent&&(t=0))}catch(t){this.log("getTopWindow error",t)}return{currentWindow:e,currentFrame:i}},t.prototype.isMobile=function(){return"ontouchstart"in this.w},t.prototype.getJson=function(t){return i(this,void 0,void 0,(function(){var e,i,r;return n(this,(function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:e=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),i=e,[4,e.json()];case 3:return i.parsedBody=n.sent(),[3,5];case 4:throw r=n.sent(),new Error("Smart Sitebar Template: JSON parsing error, "+r);case 5:if(!e.ok)throw new Error("Smart Sitebar Template: JSON parsing error, "+e.statusText);return[2,e]}}))}))},t.prototype.isValidStringField=function(t){return Boolean(t)&&this.isString(t)},t.prototype.limitString=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},t.prototype.trackArrayOfPixels=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];n&&this.tracking(n)}},t.prototype.isAMP=function(){return this.w.context?"AMP-AD"===this.w.context.tagName:this.w.name.indexOf('"tagName":"AMP-AD"')>-1},t}();e.Global=r},5395:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityCore=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.counterId=0,e.hasFocus=!0,e.isSafeFrame=!1,e.isAmpVisSub=!1,e.integration=0,e.timeCounter=0,e.resultLayer=null,e.playingCreativeId=null,e.pixels={},e.threshold=[],e.elVis=0,e.isIOSupported=!1,e.isIOCallbackCalled=!1,e.addEvent(e.w,"focus",(function(){return e.hasFocus=!0})),e.addEvent(e.w,"blur",(function(){return document.activeElement&&window.self===window.top?e.hasFocus=!0:e.hasFocus=!1})),e.addEvent(e.d,"visibilitychange",(function(){e.d.hidden?e.hasFocus=!1:e.checkCurrentState()})),e}return r(e,t),e.prototype.videoHandler=function(t,e){var i=["complete","skip","AdSkipped","AdStopped"];i.concat(["pause","AdPaused","abort","emptied","ended","error","seeked","seeking"]).indexOf(t)>-1?this.playingCreativeId=null:["start","AdStarted","AdPlaying","resume","play","playing"].indexOf(t)>-1&&(this.playingCreativeId=e,void 0!==this.intersectionObserverCallback&&0!==Object.keys(this.pixels).length&&this.intersectionObserverCallback(this.lastIntersectionObserverEntry)),i.indexOf(t)>-1&&this.executePixels(e,"notviewable")},e.prototype.updateCreativePixels=function(t,e){return this.log("updateCreativePixels"),this.isIOCallbackCalled=!1,void 0!==this.intersectionObserverCallback&&this.intersectionObserverCallback(this.lastIntersectionObserverEntry),this.pixels[t]=e},e.prototype.start=function(t,e,i){var n=this;this.log("start",t,e,i),this.isIOSupported=this.isIntersectionObserverSupport();var r=this.checkElementStatus(t),o=r.measurable;if(t=r.element,this.pixels=e,!t)throw new Error('Smart Viewability: passed element to measure is not valid and its value is "'+t+'"');var s=this.mergeOptions(i,t);if(s.videoIntegration||(this.playingCreativeId=Object.keys(e)[0]?String(Object.keys(e)[0]):"1"),this.integration=s.videoIntegration||this.integration,s.logMessages&&(this.logOn=!0),s.testLayer&&(this.resultLayer=this.addInfoLayer()),i&&i.threshold){this.threshold=i.threshold;var a="aboveCallback",l="belowCallback";this.threshold.forEach((function(t){t.lastSent=0,"function"!=typeof t[a]&&(t[a]=function(){return console.log()}),"function"!=typeof t[l]&&(t[l]=function(){return console.log()})}))}t.id||(t.id="sas_"+(new Date).getTime()+"rnd"),this.isIOSupported?this.initIntersactionObserver(t,s):this.counterId=this.w.setInterval((function(){t&&n.checkElement(t,s,o)}),100),window.addEventListener("beforeunload",(function(){n.executePixels(n.playingCreativeId,"notviewable")}))},e.prototype.checkCurrentState=function(){this.hasFocus=!0,void 0===this.intersectionObserverCallback||this.isIOCallbackCalled||this.intersectionObserverCallback(this.lastIntersectionObserverEntry)},e.prototype.initIntersactionObserver=function(t,e){var i,n,r=this;this.intersectionObserverCallback=function(o){r.lastIntersectionObserverEntry=o,o&&o.forEach((function(o){r.checkThreshold(100*o.intersectionRatio),void 0!==(null==e?void 0:e.area)&&100*o.intersectionRatio>=e.area&&r.playingCreativeId?n=r.w.setTimeout((function(){r.hasFocus&&(r.isIOCallbackCalled=!0,r.triggerViewableEvent(e),r.integration<2&&i.unobserve(t))}),1e3*(e.delay||0)):r.w.clearTimeout(n)}))};var o={threshold:((null==e?void 0:e.area)||0)/100};this.hasFocus&&(i=new this.w.IntersectionObserver(this.intersectionObserverCallback,o)).observe(t)},e.prototype.checkElement=function(t,e,i){if(this.log("checkElement",t,e),i||this.executePixels(this.playingCreativeId,"undetermined"),!this.d.getElementById(t.id))return window.clearInterval(this.counterId),void this.log("backup exit - in the meantime someone could remove / close the ad",t);this.isAMPFrame?this.w.context&&!this.isAmpVisSub&&this.subscribeAmpVis():this.isSafeFrame?this.elVis=Math.round(this.w.$sf.ext.inViewPercentage()):this.elVis=this.getVisibilityPercent(t,e),this.log("Element visibility "+this.elVis+"%"),this.playingCreativeId&&this.hasFocus&&void 0!==(null==e?void 0:e.area)&&this.elVis>=e.area?(this.timeCounter++,this.timeCounter>=10*(e.delay||0)&&this.triggerViewableEvent(e)):this.timeCounter=0,this.checkThreshold(this.elVis)},e.prototype.triggerViewableEvent=function(t){this.log("Element visible more than "+t.area+"% for "+Math.round(this.timeCounter/10)+" seconds"),this.executePixels(this.playingCreativeId,"viewable"),this.executeViewCallback(t),t.testLayer&&this.resultLayer&&(this.resultLayer.innerHTML="&#10004;")},e.prototype.executeViewCallback=function(t){t.viewCallback&&(t.viewCallback(),t.viewCallback=void 0,this.log("View callback function called"))},e.prototype.checkElementStatus=function(t){var e={measurable:!0,element:t};if(!t||window.self===window.top||this.w.self===this.w.top)return this.log("No iframe detected"),e;this.log("Iframe detected");var i=this.getTopWindow();return this.w=i.currentWindow,this.d=this.w.document,e.element=null===i.currentFrame||i.currentFrame.parentNode===t.parentNode?t:i.currentFrame,i.currentWindow.$sf&&i.currentWindow.$sf.ext?(this.log("SafeFrame detected"),e.element=e.element||t,this.isSafeFrame=!0):void 0!==window.inDapIF&&window.inDapIF?(this.log("Friendly iframe detected"),e.element=t):i.currentWindow===window.top?this.log("Secured iframe detected"):this.isAMPFrame?this.log("AMP iframe detected"):(this.log("Cross-domain iframe detected"),this.isIOSupported||(e.element=t,e.measurable=!1)),e},e.prototype.area=function(t){var e=t.getBoundingClientRect();return(e.right-e.left)*(e.bottom-e.top)},e.prototype.addInfoLayer=function(){var t=this.addElement("div",document.body,{id:"testLayer_"+Math.round(1e5*Math.random()),style:"width:60px;height:30px;position:fixed;top:0;right:0;background-color:yellow;\n\t\t\tcolor:blue;font-size:20px;text-align:center;padding-top:5px;z-index:99999;"});return t.innerHTML="0%",t},e.prototype.checkThreshold=function(t){for(var e,i,n="area",r="lastSent",o=0,s=this.threshold;o<s.length;o++){var a=s[o];a[n]>t&&a[r]<=0?(null===(e=a.belowCallback)||void 0===e||e.call(a),a[r]=1):a[n]<=t&&a[r]>=0&&(null===(i=a.aboveCallback)||void 0===i||i.call(a),a[r]=-1)}},e.prototype.calculateArea=function(t,e){return!this.isMobile()&&0===t.videoIntegration&&e.clientHeight*e.clientWidth>242500?30:50},e.prototype.mergeOptions=function(t,e){var i={area:null==t?void 0:t.area,testLayer:(null==t?void 0:t.testLayer)||!1,logMessages:(null==t?void 0:t.logMessages)||!1,videoIntegration:(null==t?void 0:t.videoIntegration)||0,threshold:(null==t?void 0:t.threshold)||[],viewCallback:null==t?void 0:t.viewCallback};return t&&t.delay?i.delay=t.delay:i.delay=i.videoIntegration?2:1,i.area||(i.area=this.calculateArea(i,e)),i},e.prototype.executePixels=function(t,e){if(null==t)return!1;var i=!1;return this.pixels[t]&&this.pixels[t][e]&&(this.trackArrayOfPixels(this.pixels[t][e]),i=!0,delete this.pixels[t],this.playingCreativeId=null,this.integration<2&&this.w.clearInterval(this.counterId)),this.isAmpVisSub&&this.ampListen&&this.ampListen(),i},e.prototype.getVisibilityPercent=function(t,e){var i=this.area(t);if(0===i)return 0;var n=t.getBoundingClientRect(),r=Math.max(0,Math.min(n.bottom,this.w.innerHeight)-Math.max(0,n.top)),o=Math.max(0,Math.min(n.right,this.w.innerWidth)-Math.max(0,n.left)),s=Math.round(r*o*100/i);return e.testLayer&&this.resultLayer&&(n.top<0?(this.resultLayer.style.top="auto",this.resultLayer.style.bottom="0px"):(this.resultLayer.style.top="0px",this.resultLayer.style.bottom="auto"),this.resultLayer.innerHTML.replace("%","")!==s.toString()&&(this.resultLayer.innerHTML=s+"%")),s},e.prototype.subscribeAmpVis=function(){var t=this;this.isAmpVisSub=!0,this.ampListen=this.w.context.observeIntersection((function(e){e.forEach((function(e){t.elVis=100*e.intersectionRatio}))}))},e.prototype.isIntersectionObserverSupport=function(){return"IntersectionObserver"in this.w&&"IntersectionObserverEntry"in this.w},e}(i(7322).Global);e.ViewabilityCore=o},7010:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Viewability=void 0;var o=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.init=function(t,e,i){this.log("init"),this.start(t,e,i)},e}(i(5395).ViewabilityCore);e.Viewability=o,window.Viewability=o}},e={};(function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports})(7010)}();