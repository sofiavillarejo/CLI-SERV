!function(){"use strict";var t={4554:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Eic=void 0;var o=function(t){function e(e){var i=t.call(this)||this;if(i.conf=e,!i.isValidData(e))throw new Error("Equativ Iframe Clicks: wrong input data format");return i.init(),i}return r(e,t),e.prototype.isValidData=function(t){return!this.isObjectEmpty(t)&&this.isValidStringField(t.id)&&this.isValidStringField(t.url)},e.prototype.init=function(){var t=this;if(this.logOn=!1,this.log("init"),this.d.getElementById(this.conf.id))this.log("element #"+this.conf.id+" has been found"),this.addListeners();else{var e=new MutationObserver((function(){t.d.getElementById(t.conf.id)&&(t.log("element #"+t.conf.id+" has been found"),t.addListeners(),e.disconnect())}));e.observe(this.d,{childList:!0,subtree:!0})}},e.prototype.addListeners=function(){var t=this;this.log("addListeners"),this.w.focus(),this.w.addEventListener("blur",(function(){return t.logClick()})),this.isFirefox()||this.d.addEventListener("visibilitychange",(function(){"visible"===t.d.visibilityState&&t.w.focus()}))},e.prototype.logClick=function(){var t=this;this.log("logClick"),setTimeout((function(){var e;(null===(e=t.d.activeElement)||void 0===e?void 0:e.id)===t.conf.id&&(t.log("clicked"),(new Image).src=t.conf.url)}))},e}(i(7322).Global);e.Eic=o,window.sas=window.sas||{},window.sas.eic=window.sas.eic||o},3089:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Autorefresh=void 0;var o=function(t){function e(e){var i,n=t.call(this)||this;return n.conf=e,n.capping=5,n.refreshNumberKey="refsh_no",n.refreshTimeKey="refsh_tm",n.logOn=!1,n.duration=e.duration,n.tagId=e.tagId,n.refreshNb=e.refreshNb,n.keywordTargeting=e.keywordTargeting,e.container.style.height="auto",null===(i=window.sas_addCleanListener)||void 0===i||i.call(window,n.conf.tagId,(function(){n.log("sas_addCleanListener autorefresh"),e.container.style.height=e.container.clientHeight+"px",window.setTimeout((function(){e.container.style.height="auto"}),1e3),e.cleanCallback&&e.cleanCallback()})),n.refresh(),n}return r(e,t),e.prototype.refresh=function(){var t,e;this.refreshNb>=this.capping?this.log("backup exit - capping limit"):(this.log("viewable "+this.duration+" - refresh format"),this.keywordTargeting.indexOf(this.refreshNumberKey+"=")>-1?(this.log(this.refreshNumberKey+" key already exists"),this.keywordTargeting=this.keywordTargeting.replace(this.refreshNumberKey+"="+this.refreshNb,this.refreshNumberKey+"="+ ++this.refreshNb)):(this.log("no "+this.refreshNumberKey+" key"),this.keywordTargeting+=";"+this.refreshNumberKey+"=1;"+this.refreshTimeKey+"="+this.duration+";"),this.log("new target",this.keywordTargeting),null===(e=(t=window.sas).refresh)||void 0===e||e.call(t,this.tagId,{target:this.keywordTargeting,autoRefresh:!0}))},e}(i(7322).Global);e.Autorefresh=o},2864:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SasAd=void 0;var l=i(4446),d=i(7322),c=i(166),h=i(7010),u=s(i(4650)),p=i(4554),f=i(166),g=i(3089),m=function(t){function e(e,i){var n;void 0===i&&(i=!1);var r=t.call(this,i)||this;r.c=e,r.isFlash=!1,r.closed=!1,r.iCustomScriptExecuted=!1,r.animationSpeed={none:0,slow:2,medium:1.4,fast:.7},r.buttonSize={small:1,normal:1.5,big:2},r.lastClicked=0,r.ifrContainer=null,r.isRenderPixaSent=!1,r.isImpressionCounted=!1,r.realIframeId="";var o=document.getElementById(e.tagId);o||((o=document.createElement("div")).id=r.c.tagId,(null===(n=document.currentScript)||void 0===n?void 0:n.parentNode)?document.currentScript.parentNode.insertBefore(o,document.currentScript):document.body.appendChild(o)),o.appendChild(document.createComment("TagID")),r.adAttrValue="ad-"+r.c.insertionId,r.isFlash=r.hasFlash(),r.c.filePath&&(r.closeButtonUrl=r.c.filePath+"images/close-retina.png",r.closeButtonUrl2=r.c.filePath+"images/close_54x54.png",r.closeButtonUrl3=r.c.filePath+"images/close-without-padding.png",r.expandButtonUrl=r.c.filePath+"images/expand_54x54.png"),r.viewability=new h.Viewability,r.impressionsOnePx=new h.Viewability,r.impressionsThirtySec=new h.Viewability;var a=r.c.statisticTracking.rtbCreativeId;"0"===a&&(a=void 0);var s=r.c.statisticTracking.rtbDealId;return"0"===s&&(s=void 0),r.updateDebugData({"Creative ID":a||r.c.creative.id||null,"Deal ID":s,"Insertion ID":r.c.insertionId}),r}return r(e,t),e.prototype.updateDebugData=function(t){var e,i,n;null===(n=null===(i=null===(e=window.sas)||void 0===e?void 0:e.debugMode)||void 0===i?void 0:i.addBanner)||void 0===n||n.call(i,{adSlot:document.getElementById(this.c.tagId),adInfo:t})},e.prototype.calculateDimensions=function(t,e,i,n){var r=this.getRatio(t,e),o=this.getParentWidth(i),a=o;n&&(-1!==n.indexOf("px!")?a=Number(n.replace("px!","")):(a=-1!==n.indexOf("%")?Math.round(Number(n.replace("%",""))/100*o):Number(n.replace("px","")))>o&&(a=o));var s=Math.round(a/r);return this.log("calculateDimensions, input: "+t+", "+e+", output: "+a+", "+s),{height:s,width:a}},e.prototype.whichTransitionEvent=function(){var t=this.d.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in e)if(void 0!==t.style[i])return e[i]},e.prototype.addImage=function(t){var e="";return""!==t.url&&(""!==t.oryginalClickUrl&&(e+='<a href="'+t.clickUrl+'"'+("_blank"===t.clickTarget?' target="_blank"':"")+">"),e+='<img\n\t\t\t\tid="img_'+t.id+'"\n\t\t\t\tsrc="'+t.url+'"\n\t\t\t\twidth="'+t.width+'"\n\t\t\t\tborder="0"\n\t\t\t\theight="'+t.height+'"'+(t.alt?' alt="'+t.alt+'"':"")+"/>",""!==t.oryginalClickUrl&&(e+="</a>")),e},e.prototype.flash=function(t,e,i,n){this.log("flash");var r="";for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r+='<param name="'+o+'" value="'+t[o]+'" />');return'<object type="application/x-shockwave-flash"\n\t\t\t\t\tname="'+e+'"\n\t\t\t\t\tid="'+e+'"\n\t\t\t\t\twidth="'+i+'"\n\t\t\t\t\theight="'+n+'"\n\t\t\t\t\tdata="'+t.movie+'">'+r+"\n\t\t\t\t</object>"},e.prototype.addCreative=function(t,e,i,n,r,o,a,s,l){var d,c=this;void 0===i&&(i=!1),void 0===n&&(n=""),void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===l&&(l=!0),this.log("addCreative",t,e,i,n,r,s,l);var h=t.agencyCode;n&&!this.iCustomScriptExecuted&&(h+=n,this.iCustomScriptExecuted=!0);var u=0!==t.width||s?t.width:"100%",g=0!==t.height||s?t.height:"100%",m=this.c.tagId;if(t.type===f.ECreativeType.Agency){var v,y=this.w,b=this.d,w=(null==y?void 0:y.$sf)&&!y.$sf.host;if(t.safeFrame&&!w)if(this.realIframeId=e.id===this.c.tagId?e.id+"_sf":e.id,y.$sf)this.addSafeFrame(e.id,u,g,h,y,b,o,a);else{var E=document.createElement("script");E.onload=function(){return c.addSafeFrame(e.id,u,g,h,y,b,o,a)},E.src="//ced-ns.sascdn.com/safeframe/safeframe-api/base_host.js",b.head.appendChild(E)}else this.realIframeId=m+"_iframe",v=this.addElement("iframe",e,{src:"about:blank",width:u,height:g,frameBorder:"0",allow:"autoplay;fullscreen;",scrolling:"no",marginheight:"0",marginwidth:"0",id:this.realIframeId}),y=v.contentWindow||v,(b=v.contentWindow.document).open("text/html","replace"),b.write("\n\t\t\t\t\t<!DOCTYPE html>\n\t\t\t\t\t<head>\n\t\t\t\t\t\t<script>var inDapIF = "+i+"<\/script>\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t"+(l?"\n\t\t\t\t\t\t\t\thtml, body {\n\t\t\t\t\t\t\t\t\twidth: "+("number"==typeof u?u.toString()+"px":u)+";\n\t\t\t\t\t\t\t\t\theight: "+("number"==typeof g?g.toString()+"px":g)+";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t":"")+"\n\t\t\t\t\t\t\tbody {\n\t\t\t\t\t\t\t\tpadding:0;\n\t\t\t\t\t\t\t\tmargin:0 auto;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</style>\n\t\t\t\t\t</head>\n\t\t\t\t\t<body>\n\t\t\t\t\t\t"+h+"\n\t\t\t\t\t</body>\n\t\t\t\t\t</html>\n\t\t\t\t"),b.close(),this.ifrContainer=v,o&&(this.log("iframe ready"),o(y,b),this.sendRenderPixa()),a&&this.winReady((function(){c.log("iframe load"),a(y,b,v)}),y,b);this.isRtb()&&new p.Eic({id:this.realIframeId,url:t.creativeClickCountPixelUrl})}else if(t.type===f.ECreativeType.HTML5){var I=0,C=t.url+(t.url.indexOf("?")<0?"?":"&")+"sasfid="+t.id;if(t.clickUrlArray)for(var T=0,x=t.clickUrlArray;T<x.length;T++){var P=x[T];C+="&clicktag"+(I++?I:"")+"="+encodeURIComponent(P)}this.addElement("iframe",e,{src:C,width:u,height:g,frameBorder:"0",allow:"autoplay;fullscreen;",scrolling:"no",marginheight:"0",marginwidth:"0",id:m+"_iframe"}),this.addEvent(this.w,"message",(function(e){if(e.data&&t.id===Number(e.data)){var i={clickUrls:t.clickUrlArray,isSmart:!0};e.source.postMessage(JSON.stringify(i),"*")}})),this.sendRenderPixa()}else e.innerHTML=this.addImage(t),this.sendRenderPixa();if(t.type&&h){var k=null===(d=this.addElement("iframe",e,{src:"about:blank",frameBorder:0,allow:"autoplay;fullscreen;",scrolling:"no",marginheight:0,marginwidth:0,style:"width:1px;height:0px;visibility:hidden;position:absolute;top:0"}).contentWindow)||void 0===d?void 0:d.document;k&&(k.open("text/html","replace"),k.write('\n\t\t\t\t<!DOCTYPE html>\n        <head></head>\n        <body style="padding:0;margin:0 auto">'+h+"</body>\n\t\t\t\t</html>\n        "),k.close())}},e.prototype.getPlacement=function(){var t,e=this.d.getElementById(this.c.tagId);return this.friendlyIframe&&(this.friendlyIframe.setAttribute("style","width:1px; height:1px;position:absolute;"),this.friendlyIframe.setAttribute("allow","autoplay;fullscreen;"),e||((e=this.d.createElement("DIV")).setAttribute("id",this.c.tagId),null===(t=this.friendlyIframe.parentNode)||void 0===t||t.insertBefore(e,this.friendlyIframe))),this.log("adPlacement",e),e},e.prototype.hasFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){if(navigator&&navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},e.prototype.stopEvent=function(t){return(t=t||window.event)&&(t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()),!1},e.prototype.prepareTrackingUrl=function(t,e,i){var n=this.c.statisticTracking,r=this.isAMPFrame?"&isAmp=":"";return r&&this.c.pgDomain&&(r+="&pgDomain="+this.c.pgDomain),this.c.baseUrl+"/track/action?sid="+this.c.sessionId+"&pid="+this.c.pageId+"&iid="+this.c.insertionId+"&fmtid="+this.c.formatId+"&cid="+this.c.creative.id+"&key="+t+r+this.validateParam("vit",n.videoIntegrationType)+this.validateParam("vct",n.videoClientTechnology)+this.validateParam("vrn",n.videoRevisionNumber)+(n.rtbbid?"&rtb=1&rtbbid="+n.rtbbid+"&rtbet="+n.rtbet+"&rtblt="+n.rtblt+"&rtbnid="+n.rtbnid+"&rtbh="+n.rtbh:"")+"&"+(i?("videoerror"===t||"viewerror"===t?"ec=":"num1=")+i+"&":"")+"ts="+e},e.prototype.createMultiBrowserCss=function(t){return"-moz-"+t+";-webkit-"+t+";-ms-"+t+";-o-"+t+";"+t+";"},e.prototype.executeCustomScripts=function(t,e,i,n){this.log("executeCustomScripts",t,e,i,n),u.executeCustomScripts(t,e,i,n,this.c.insertionId)},e.prototype.findPlaceForAd=function(t){this.log("findPlaceForAd",t);var e,i,n=[],r=this.d.createElement("div");r.id="sas_intextContainer_"+this.c.insertionId,""===(n=t.idNames.split(";"))[n.length-1]&&n.splice(n.length-1,1);for(var o=0,a=n;o<a.length;o++){switch(i=a[o].replace(/^\s+|\s+$/g,""),t.selectedPosition){case c.ESelectedPosition.ParagraphById:e=this.d.getElementById(i);break;case c.ESelectedPosition.ParagraphByClassName:(e=this.d.getElementsByClassName(i)).length&&(e=e[0]);break;case c.ESelectedPosition.ParagraphByItemProp:for(var s=this.d.getElementsByTagName("*"),l=0,d=s.length;l<d;l++){var h=s[l];if(h.getAttribute("itemprop")===i){e=h;break}}break;case c.ESelectedPosition.SpecifiedElementById:e=this.d.getElementById(i);break;case c.ESelectedPosition.SpecifiedElementByClassName:(e=this.d.getElementsByClassName(i)).length&&(e=e[0])}if((t.selectedPosition===c.ESelectedPosition.SpecifiedElementById||t.selectedPosition===c.ESelectedPosition.SpecifiedElementByClassName)&&e&&e.tagName)return e;if(e&&e.tagName){var u=e.getElementsByTagName(t.paragraphType);if("automatic"===t.positionInParagraph){if(0!==u.length&&u.length<100)for(var p=u.length-1;p>=0;p--){var f=this.getElementVisibility(u[p]);if(this.log("checkElementVisibility for element number "+p,u[p],f),f>0&&f<100||0===p)return u[p].parentNode.insertBefore(r,u[p].nextSibling),r}}else if("specified paragraph"===t.positionInParagraph&&0!==t.paragraphNumber){if(0!==u.length&&u.length<100){for(var g=0;g<=u.length-1;g++)t.paragraphNumber>0&&g===t.paragraphNumber-1?u[g].parentNode.insertBefore(r,u[g].nextSibling):t.paragraphNumber>u.length&&e.appendChild(r);return r}}else{if("bottom"===t.positionInParagraph)return e.appendChild(r),r;if("top"===t.positionInParagraph)return e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r}}}return this.log("show anyway"),this.findPlaceForAdAuto()},e.prototype.getAdPlacement=function(t){var e=null;if(t)switch(t.selectedPosition){case c.ESelectedPosition.Automatic:e=this.findPlaceForAdAuto();break;case c.ESelectedPosition.AdPlacement:e=this.getPlacement();break;default:e=this.findPlaceForAd(t)}return e},e.prototype.getWholeText=function(t){for(var e="",i=t.childNodes.length,n=0;n<i;n++){var r=t.childNodes[n];8!==r.nodeType&&(e+=1!==r.nodeType?r.nodeValue:this.getWholeText(r))}return e},e.prototype.findPlaceForAdAuto=function(){this.log("findPlaceForAdAuto");var t=[],e=[],i=[],n=["SCRIPT","STYLE","TITLE","LABEL","HEADER","H2","LI","A","UL","FORM","FIGURE","NOSCRIPT","IFRAME"],r=["fixed","absolute"],o=this.d.body.getElementsByTagName("*"),a=this.d.body,s=this.d.documentElement,l=Math.max(a.scrollHeight,a.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight),d=this.d.createElement("div");d.id="sas_intextContainer_"+this.c.insertionId;for(var c=0,h=o;c<h.length;c++){var u=h[c],p=Math.round(u.parentNode.childElementCount+u.parentNode.clientHeight+u.parentNode.clientHeight+u.parentNode.offsetTop);if(!(n.indexOf(u.tagName)>-1||p<=10)){var f=void 0;u.firstChild&&3===u.firstChild.nodeType&&u.firstChild.length>150&&u.parentNode.offsetTop>300&&(f={node:u.firstChild,length:u.firstChild.length,parent:u.parentNode,value:u.firstChild.data,parentOffset:u.parentNode.offsetTop},t[p]||(t[p]=[]),t[p].push(f)),u.clientWidth>=300&&u.clientHeight>100&&u.parentNode.clientHeight>1.5*u.clientHeight&&u.parentNode.offsetTop>300&&u.offsetTop<.75*l&&"hidden"!==this.w.getComputedStyle(u.parentNode,null).getPropertyValue("overflow")&&-1===r.indexOf(this.w.getComputedStyle(u.parentNode,null).getPropertyValue("position"))&&(f={node:u,parent:u.parentNode,parentWidth:u.parentNode.clientWidth,parentId:p,offsetTop:u.parentNode.offsetTop},e[p]||(e[p]=[]),e[p].push(f)),u.clientWidth>=300&&u.clientHeight>100&&u.offsetTop>.75*this.w.innerHeight&&u.offsetTop<Math.max(.5*l,this.w.innerHeight)&&-1===r.indexOf(this.w.getComputedStyle(u,null).getPropertyValue("position"))&&(f={node:u,width:u.clientWidth,height:u.clientHeight,offsetTop:u.offsetTop},i.push(f))}}if(t.sort((function(t,e){return e.length-t.length})),this.log("article page",t),t[0]&&t[0].length>2){var g=t[0][0].parent,m=this.getWholeText(g).length;this.log("articleParentLength",m);for(var v=g.childNodes,y=0,b=0,w=0;w<v.length;w++)if(this.log("sum",y),(y+=this.getWholeText(v[w]).length)>m/3){this.log("break",y,m/3),b=w;break}return this.log("whichChild",b),this.log("articleChildren",v),g.insertBefore(d,v[b]),d}this.log("home page or short article",e),e.sort((function(t,e){return t[0].offsetTop-e[0].offsetTop||e[0].parentWidth-t[0].parentWidth})),this.log(e);for(var E=0,I=e;E<I.length;E++){var C=I[E];if(C&&C.length>1)return this.log("div collection with the same parent",e[C]),C[0].parent.insertBefore(d,C[1].node),d}return this.log("other2",i),i.length?(i.sort((function(t,e){return e.width-t.width||t.offsetTop-e.offsetTop})),this.log("other2",i),i[0].node.insertBefore(d,i[0].node.firstChild),d):null},e.prototype.buildTestContent=function(t){var e;this.addCss("\n\t\t\t#iframeMob_"+this.c.insertionId+"{\n\t\t\t\twidth:330px;\n\t\t\t\theight:580px;\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:88px;\n\t\t\t\tleft:46px;\n\t\t\t}\n\t\t\t#iframeDiv_"+this.c.insertionId+"{\n\t\t\t\tmargin:20px auto 0;\n\t\t\t\tposition:relative;\n\t\t\t\twidth:416px;\n\t\t\t\theight:742px;\n\t\t\t\tbackground-image:url(http://gallery.smartadserver.com/demo_mobile/image/Phone_Hybrid.png);\n\t\t\t}\n\t\t\ttable img{\n\t\t\t\tdisplay:none;\n\t\t\t}\n\t\t");for(var i="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vestibulum ullamcorper orci et e\n\t\tleifend. Morbi a magna ac dolor porta condimentum. ut, commodo a enim. Nulla ac dui vel odio rutrum rh tellu\n\t\ts. Quisque euismod mattis massa. Integer laoreet sapien quis eros eleifend auctor. Aenean faucibus augue nec\n\t\t dolor congue posuere. Aliquam et massa tellus. Sed commodo, orci dictum porta scelerisque, risus neque vulp\n\t\t utate enim, sit amet fermentum dui velit ac erat. Aenean faucibus augue nec dolor congue posuere. Aliquam e\n\t\t t massa tellus. Sed commodo, orci dictum porta scelerisque, risus neque vulputate enim, sit amet fermentum\n\t\t dui velit ac erat.",n="<div>"+(i="<"+t.paragraphType+">"+i+"</"+t.paragraphType+">")+"</div>",r="",o=0;o<4;o++)r+=i;i=r;for(var a,s="",l=0;l<2;l++)s+=n;n=s,t.selectedPosition===c.ESelectedPosition.AdPlacement&&(t.selectedPosition=c.ESelectedPosition.SpecifiedElementById,t.idNames=this.c.tagId),a=t.selectedPosition===c.ESelectedPosition.ParagraphById||t.selectedPosition===c.ESelectedPosition.SpecifiedElementById?"id":"class";var d=[];""===(d=t.idNames.split(";"))[d.length-1]&&d.splice(d.length-1,1);var h='<img src="http://www.saspreview.com/images/preview-dog.png" width="330" alt="" /><h1>This is\n\t\t an example of article</h1>';t.selectedPosition===c.ESelectedPosition.SpecifiedElementById||t.selectedPosition===c.ESelectedPosition.SpecifiedElementByClassName?h+=n+"<div "+a+'="'+d[0]+'"></div>'+n:h+="<div "+a+'="'+d[0]+'">'+i+"</div>";var u=this.addElement("div",this.d.body,{id:"iframeDiv_"+this.c.insertionId}),p=this.addElement("iframe",u,{src:"about:blank",width:330,height:590,frameBorder:"0",allow:"autoplay;fullscreen;",scrolling:"yes",marginheight:"0",marginwidth:"0",id:"iframeMob_"+this.c.insertionId}),f=p.contentWindow||p,g=p.contentDocument||(null===(e=p.contentWindow)||void 0===e?void 0:e.document);g&&(g.open("text/html","replace"),g.write('<!DOCTYPE html><head></head><body style="padding:0;margin:0">'+h+"</body></html>"),g.close(),this.viewability.d=this.d=g),this.viewability.w=this.w=f},e.prototype.initViewability=function(t,e){var i,n,r;this.viewability.init(t,((i={})[this.c.creative.id]={viewable:[this.prepareTrackingUrl(f.EViewableKey.Viewcount,this.c.sessionId)],undetermined:[this.prepareTrackingUrl(f.EViewableKey.ViewUndetermined,this.c.sessionId)]},i),e),this.impressionsOnePx.init(t,((n={})[this.c.creative.id]={viewable:[this.prepareTrackingUrl(f.EViewableKey.ImpressionsOnePx,this.c.sessionId)]},n),{area:this.impressionsOnePxArea}),this.impressionsThirtySec.init(t,((r={})[this.c.creative.id]={viewable:[this.prepareTrackingUrl(f.EViewableKey.ImpressionsThirtySec,this.c.sessionId)]},r),{delay:this.impressionsThirtySecDelay,area:this.impressionsThirtySecArea})},e.prototype.getDataFromCustomScript=function(t){this.log("getDataFromCustomScript",t);var e=this.d.getElementById("sasCustomScript_"+this.c.insertionId),i=document.getElementById("sasCustomScript_"+this.c.insertionId),n=e||i,r=null;this.c.isAsync&&n?r=(n.contentWindow||n)[t]:r=window[t];return r},e.prototype.getParentWidth=function(t){for(;t&&t.parentNode;){if(t.parentElement&&t.parentElement.clientWidth>0)return t.parentElement.clientWidth;t=t.parentNode}return 0},e.prototype.getRatio=function(t,e){var i=1.78;return t&&e&&(i=Math.round(t/e*100)/100),i},e.prototype.sendRenderPixa=function(){this.isRenderPixaSent||(this.isRenderPixaSent=!0,this.tracking(this.prepareTrackingUrl("impressionsonrender",this.c.sessionId)))},e.prototype.addOba=function(t,e,i){var n=this;this.log("addOba");var r=2===t?"top-left":"top-right";window.sas.utils.loadLinkCdn("diff/templates/js/adplayer/adplayer.css"),window.sas.utils.loadScriptCdn(["diff/templates/js/adplayer/adplayer.js","diff/templates/js/adplayer/latest/adplayer.sas.js"],{onLoad:function(){n.w.$ADP&&(window.$ADP.sas.addOba(i,!1,r,n.c.sessionId,n.c.sessionId),e.style.width=n.c.creative.width+"px")}})},e.prototype.countImpression=function(t){this.log("countImpression"),this.isImpressionCounted||(this.isImpressionCounted=!0,this.tracking(t))},e.prototype.addPrivacyLink=function(t,e){var i,n=document.createElement("a");n.id="sas_privacy_"+this.c.insertionId,n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute(l.NO_CLICK_COUNT_ATTRIBUTE_NAME,""),null===(i=e.firstElementChild)||void 0===i||i.appendChild(n)},e.prototype.handleClickTrackers=function(t,e){var i=this;t.addEventListener("click",(function(t){t.target.hasAttribute(l.NO_CLICK_COUNT_ATTRIBUTE_NAME)||i.trackArrayOfPixels(e)}))},e.prototype.trackEvents=function(t){var e=this;t.forEach((function(t){var i;if(e.isEventTrackerValid(t))if(1===t.method)e.tracking(t.url);else if(2===t.method){var n=document.createElement("script");n.src=t.url,null===(i=e.d.getElementById(e.c.tagId))||void 0===i||i.appendChild(n)}}))},e.prototype.addFeedbackButton=function(t,e){var i,n,r=this;void 0===e&&(e=!1);var o=this.addElement("div",t,{id:"equativ_feedback_"+this.c.formatId},!0),a=this.addElement("div",o,((i={id:"equativ_feedback_closeButton_"+this.c.formatId})[l.NO_CLICK_COUNT_ATTRIBUTE_NAME]="",i));this.addElement("a",a,((n={class:"closeFeedback"})[l.NO_CLICK_COUNT_ATTRIBUTE_NAME]="",n)),a.onclick=function(){window.sas.utils.loadScriptCdn("/diff/templates/ts/dist/global/sas-feedback.js",{async:!0,onLoad:function(){new window.AdFeedback(t,r.c,o,a),o.removeChild(a)}})};var s="\n            #equativ_feedback_"+this.c.formatId+" {\n              width: "+(e?"100%":this.c.creative.width+"px")+";\n              left: 0px;\n              position: relative;\n              top: "+(this.c.creative.safeFrame?"0":"28px")+";\n              font-size: 14px;\n              z-index: 1;\n            }\n            #equativ_feedback_closeButton_"+this.c.formatId+" {\n              width: 15px;\n              height: 15px;\n              float: right;\n              cursor: pointer;\n              margin: "+(this.c.creative.safeFrame?this.isFirefox()?"13px":"5px":"-25px")+" 5px 0 0\n            }\n            .closeFeedback {\n              position: relative;\n              opacity: 1;\n              width: 18px;\n              height: 18px !important;\n              cursor: pointer;\n              margin-left: 5px !important;\n            }\n            .closeFeedback:before, .closeFeedback:after {\n              position: absolute;\n              content: ' ';\n              height: 15px;\n              width: 2px;\n              background-color: #05b1f5;\n            }\n            .closeFeedback:before {\n              transform: rotate(45deg);\n            }\n            .closeFeedback:after {\n              transform: rotate(-45deg);\n            }\n          ";this.addCss(s,o)},e.prototype.addAutorefresh=function(t,e,i){var n=this,r=this.d.getElementById(this.realIframeId);(new h.Viewability).init(t,{},{area:e.viewabilityThreshold,delay:e.duration,viewCallback:function(){return r===n.d.getElementById(n.realIframeId)?new g.Autorefresh({container:t,duration:e.duration,refreshNb:e.refreshNb,keywordTargeting:e.keywordTargeting,tagId:n.c.tagId,cleanCallback:i}):void 0}})},e.prototype.isRtb=function(){return!!this.c.statisticTracking.rtbbid},e.prototype.ifrLoadCallback=function(t,e){var i;void 0===e&&(e=!1),this.isRtb()&&(this.addFeedbackButton(this.c.creative.safeFrame?t.getElementsByClassName("iab_sf")[0]:t,e),(null===(i=this.c.autorefresh)||void 0===i?void 0:i.enable)&&this.addAutorefresh(t,this.c.autorefresh))},e.prototype.validateParam=function(t,e){return e?"&"+t+"="+e:""},e.prototype.isEventTrackerValid=function(t){return!!(t.event&&1===t.event&&t.method&&t.url)},e.prototype.addSafeFrame=function(t,e,i,n,r,o,a,s){var l=this,d=o.getElementById(t);d&&(t===this.c.tagId&&(t=this.c.tagId+"_sf",d=this.addElement("div",d,{id:t})),new r.$sf.host.Config({renderFile:"//ced-ns.sascdn.com/safeframe/safeframe-api/frame.html",onEndPosRender:function(){l.ifrContainer=d,s&&(l.log("iframe load"),s(r,o,d))},onStartPosRender:function(){a&&(l.log("iframe ready"),a(r,o),l.sendRenderPixa())}}),new r.$sf.host.PosConfig({id:t,w:e,h:i,dest:t}),r.$sf.host.render(new r.$sf.host.Position(t,n)))},e}(d.Global);e.SasAd=m},4446:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.feedbackDataDogConfiguration=e.webTechnicalLoggerConfiguration=e.NO_CLICK_COUNT_ATTRIBUTE_NAME=e.AD_ATTRIBUTE_NAME=void 0,e.AD_ATTRIBUTE_NAME="data-eqt-ad",e.NO_CLICK_COUNT_ATTRIBUTE_NAME="data-exclude-click",e.webTechnicalLoggerConfiguration={clientToken:"puba9e91125eb50a412ff48375869406de5",source:"videoOutstream",tags:"outstream",service:"videoOutstream",host:"FRONT-DDLOG-HOST",endpoint:"videoOutstream",minLogLevel:"error",samplingRate:{debug:1e4,info:1e3,warning:100,error:100}},e.feedbackDataDogConfiguration={clientToken:"puba9e91125eb50a412ff48375869406de5",source:"feedback",tags:"adFeedback",service:"ad-display-feedback",host:"FRONT-DDLOG-HOST",endpoint:"adFeedback",minLogLevel:"error",samplingRate:{debug:1e4,info:1,warning:100,error:100}}},166:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ESelectedPosition=e.EViewableKey=e.ECreativeType=e.ELabelPosition=e.ConnectionEffectiveType=void 0,function(t){t.SlowSecondGeneration="slow-2g",t.SecondGeneration="2g",t.ThirdGeneration="3g",t.FourthGeneration="4g"}(e.ConnectionEffectiveType||(e.ConnectionEffectiveType={})),function(t){t.Top="Top",t.Bottom="Bottom",t.TopOverlay="Top Overlay",t.BottomOverlay="Bottom Overlay"}(e.ELabelPosition||(e.ELabelPosition={})),function(t){t[t.Agency=0]="Agency",t[t.Image=1]="Image",t[t.HTML5=4]="HTML5"}(e.ECreativeType||(e.ECreativeType={})),function(t){t.Viewcount="viewcount",t.ImpressionsOnePx="impressionsonepx",t.ImpressionsThirtySec="impressionsthirtysec",t.ViewUndetermined="viewUndetermined"}(e.EViewableKey||(e.EViewableKey={})),function(t){t.AdPlacement="ad placement",t.Automatic="automatic",t.ParagraphById="paragraph by id",t.ParagraphByClassName="paragraph by class name",t.ParagraphByItemProp="paragraph by item prop",t.SpecifiedElementById="specified element by id",t.SpecifiedElementByClassName="specified element by class name"}(e.ESelectedPosition||(e.ESelectedPosition={}))},7322:function(t,e){var i=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Global=void 0;var r=function(){function t(t){var e=this;if(void 0===t&&(t=!1),this.d=document,this.w=window,this.logOn=!1,this.isReady=!1,this.impressionsOnePxArea=1e-4,this.impressionsThirtySecArea=100,this.impressionsThirtySecDelay=30,this.getHiddenProp=function(){if("hidden"in e.d)return"hidden";for(var t=0,i=["webkit","moz","ms","o"];t<i.length;t++){var n=i[t];if(n+"Hidden"in document)return n+"Hidden"}return null},this.visibilityHandler=function(){var t;(t=e.getHiddenProp())&&e.d[t]?e.blurHandler():e.focusHanlder()},!t){if((!!this.getIeVersion(navigator.userAgent)||window.frameElement)&&void 0!==window.inDapIF&&window.inDapIF){this.log("FIF mode");var i=this.getTopWindow();this.w=i.currentWindow,this.d=this.w.document,this.friendlyIframe=i.currentFrame}}this.isAMPFrame=this.isAMP(),this.docReady((function(){return e.isReady=!0}))}return t.prototype.addElement=function(t,e,i,n){void 0===n&&(n=!1);var r=this.d.createElement(t);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.setAttribute(o,String(i[o]));return n?e.insertBefore(r,e.firstElementChild):e.appendChild(r),r},t.prototype.addEvent=function(t,e,i){t&&e&&i&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i))},t.prototype.addCss=function(t,e){void 0===e&&(e=this.d.getElementsByTagName("head")[0]);var i=this.d.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(this.d.createTextNode(t)),e.appendChild(i)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.logOn&&console.log(t)},t.prototype.docReady=function(t,e,i){var n=this;void 0===e&&(e=this.w),void 0===i&&(i=this.d);var r=function(){n.log("ready"),i.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),t()};"complete"===i.readyState?setTimeout(t):(i.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))},t.prototype.winReady=function(t,e,i){var n=this;void 0===e&&(e=this.w),void 0===i&&(i=this.d);var r=function(){n.log("window loaded"),e.removeEventListener("load",r,!1),t()};e.addEventListener("load",r,!1)},t.prototype.tracking=function(t){t&&((new Image).src=t)},t.prototype.isChild=function(t,e){if(e)for(var i=e.parentNode;null!=i;){if(i===t)return!0;i=i.parentNode}return!1},t.prototype.getElementVisibility=function(t){var e=t.getBoundingClientRect(),i=(e.right-e.left)*(e.bottom-e.top);if(0===i)return 0;var n=Math.max(0,Math.min(e.bottom,this.w.innerHeight)-Math.max(0,e.top)),r=Math.max(0,Math.min(e.right,this.w.innerWidth)-Math.max(0,e.left));return Math.round(n*r*100/i)},t.prototype.checkTabVisibility=function(t,e){this.focusHanlder=t,this.blurHandler=e;var i=this.getVisibilityEventName();i&&this.addEvent(this.d,i,this.visibilityHandler)},t.prototype.clearTabVisibilityHandler=function(){var t=this.getVisibilityEventName();t&&this.d.removeEventListener(t,this.visibilityHandler)},t.prototype.getVisibilityEventName=function(){var t="",e=this.getHiddenProp();return e&&(t=e.replace(/[H|h]idden/,"")+"visibilitychange"),t},t.prototype.getIosVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)]}},t.prototype.isExternal=function(t,e){var i=this.getDomain(e);return-1===t.indexOf(i)},t.prototype.getDomain=function(t){var e=t;if(null!=t){var i=t.split(".").reverse();null!=i&&i.length>1&&(e=i[1]+"."+i[0])}return e},t.prototype.offsetTop=function(t){var e=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop),t=t.offsetParent}while(t);return e},t.prototype.isString=function(t){return"string"==typeof t||t instanceof String},t.prototype.isObjectEmpty=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype},t.prototype.isFirefox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},t.prototype.getPageHeight=function(){var t=this.d.body,e=this.d.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},t.prototype.getIeVersion=function(t){t=t||navigator.userAgent;var e=/\b(MSIE |Trident.*?rv:|Edge\/)(\d+)/.exec(t);return e?parseInt(e[2],10):void 0},t.prototype.offset=function(t){var e=t.getBoundingClientRect(),i=this.w.pageYOffset||this.d.documentElement.scrollTop;return{top:e.top+i,bottom:e.bottom+i,left:e.left,right:e.right}},t.prototype.triggerCustomEvent=function(t,e,i,n){var r;(void 0===i&&(i=null),void 0===n&&(n={width:void 0,height:void 0}),t.length)&&(this.d.createEvent?(r=this.d.createEvent("HTMLEvents")).initEvent(t,!0,!0):(r=this.d.createEventObject()).eventType=t,r.eventName=t,null!==i&&(r.videoDuration=i),void 0!==n.width&&void 0!==n.height&&(r.creativeSize=n),r.formatId=e,this.d.createEvent?this.w.dispatchEvent(r):this.w.fireEvent("on"+r.eventType,r))},t.prototype.getTopWindow=function(){for(var t=5,e=window,i=this.getIeVersion(navigator.userAgent)?null:window.frameElement;t--;)try{e.parent&&e.parent.document&&(i=e.frameElement,(e=e.parent)===e.parent&&(t=0))}catch(t){this.log("getTopWindow error",t)}return{currentWindow:e,currentFrame:i}},t.prototype.isMobile=function(){return"ontouchstart"in this.w},t.prototype.getJson=function(t){return i(this,void 0,void 0,(function(){var e,i,r;return n(this,(function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:e=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),i=e,[4,e.json()];case 3:return i.parsedBody=n.sent(),[3,5];case 4:throw r=n.sent(),new Error("Smart Sitebar Template: JSON parsing error, "+r);case 5:if(!e.ok)throw new Error("Smart Sitebar Template: JSON parsing error, "+e.statusText);return[2,e]}}))}))},t.prototype.isValidStringField=function(t){return Boolean(t)&&this.isString(t)},t.prototype.limitString=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},t.prototype.trackArrayOfPixels=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];n&&this.tracking(n)}},t.prototype.isAMP=function(){return this.w.context?"AMP-AD"===this.w.context.tagName:this.w.name.indexOf('"tagName":"AMP-AD"')>-1},t}();e.Global=r},4650:function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ESponsorLabelPosition=e.setSponsorLinkPosition=e.calculateChildrenHeight=e.replaceUrlParams=e.executeCustomScripts=void 0,e.executeCustomScripts=function(t,e,i,n,r){for(var o,a=t,s=0,l=e;s<l.length;s++){var d=l[s];0!==d.type&&(a+=d.agencyCode)}if(a.replace(/\r\n/gm,"")){var c=document.createElement("iframe");c.src="about:blank";var h="width:1px;height:0;visibility:hidden;display:block;border-width:0;";c.setAttribute("style",h),c.setAttribute("id","sasCustomScript_"+r),c.setAttribute("allow","autoplay;fullscreen;"),c.style.cssText=h,function(t,e){var i=document.getElementById(t);if("string"==typeof e){var n=document.createElement("div");n.innerHTML=e,e=n}null==i||i.appendChild(e)}(n,c);var u=null===(o=c.contentWindow)||void 0===o?void 0:o.document;u&&(u.open("text/html","replace"),u.write("<!DOCTYPE html><head></head><body>"+a+"</body></html>"),u.close())}},e.replaceUrlParams=function(t,e){for(var i=new URL(t),n=0,r=Object.entries(e);n<r.length;n++){var o=r[n],a=o[0],s=o[1];i.searchParams.has(a)&&i.searchParams.set(a,s)}return i.toString()},e.calculateChildrenHeight=function(t){var e=0;return t.childNodes.forEach((function(t){e+=t.clientHeight||0})),e},e.setSponsorLinkPosition=function(t){var e;switch(t){case i.TopLeft:e="top:0;left:0";break;case i.TopRight:e="top:0;right:0";break;case i.BottomLeft:e="bottom:0;left:0";break;case i.BottomRight:e="bottom:0;right:0";break;default:e="top:0;left:0"}return e},function(t){t.TopLeft="top left",t.TopRight="top right",t.BottomLeft="bottom left",t.BottomRight="bottom right"}(i=e.ESponsorLabelPosition||(e.ESponsorLabelPosition={}))},4831:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var o=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this,e,i)||this;return n.c=e,n}return r(e,t),e.prototype.init=function(){var t=this;this.log("init"),this.isRtb()||this.countImpression(this.c.creative.creativeCountPixelUrl);var e=this.getPlacement();(this.w.getComputedStyle(e).getPropertyValue("display").includes("flex")||this.w.getComputedStyle(e).getPropertyValue("display").includes("grid"))&&this.isRtb()&&!this.c.creative.safeFrame&&(e=this.addElement("div",e,{id:this.c.tagId+"_wrapper"})),this.addCreative(this.c.creative,e,!0,this.c.customScript,this.c.isAsync,(function(){return t.initViewability(e)}),(function(){return t.ifrLoadCallback(e)})),0!==this.c.creative.type&&this.initViewability(e),this.c.oba&&this.addOba(this.c.oba,e,this.c.tagId)},e}(i(2864).SasAd);e.Banner=o,window.Banner=o},5395:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityCore=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.counterId=0,e.hasFocus=!0,e.isSafeFrame=!1,e.isAmpVisSub=!1,e.integration=0,e.timeCounter=0,e.resultLayer=null,e.playingCreativeId=null,e.pixels={},e.threshold=[],e.elVis=0,e.isIOSupported=!1,e.isIOCallbackCalled=!1,e.addEvent(e.w,"focus",(function(){return e.hasFocus=!0})),e.addEvent(e.w,"blur",(function(){return document.activeElement&&window.self===window.top?e.hasFocus=!0:e.hasFocus=!1})),e.addEvent(e.d,"visibilitychange",(function(){e.d.hidden?e.hasFocus=!1:e.checkCurrentState()})),e}return r(e,t),e.prototype.videoHandler=function(t,e){var i=["complete","skip","AdSkipped","AdStopped"];i.concat(["pause","AdPaused","abort","emptied","ended","error","seeked","seeking"]).indexOf(t)>-1?this.playingCreativeId=null:["start","AdStarted","AdPlaying","resume","play","playing"].indexOf(t)>-1&&(this.playingCreativeId=e,void 0!==this.intersectionObserverCallback&&0!==Object.keys(this.pixels).length&&this.intersectionObserverCallback(this.lastIntersectionObserverEntry)),i.indexOf(t)>-1&&this.executePixels(e,"notviewable")},e.prototype.updateCreativePixels=function(t,e){return this.log("updateCreativePixels"),this.isIOCallbackCalled=!1,void 0!==this.intersectionObserverCallback&&this.intersectionObserverCallback(this.lastIntersectionObserverEntry),this.pixels[t]=e},e.prototype.start=function(t,e,i){var n=this;this.log("start",t,e,i),this.isIOSupported=this.isIntersectionObserverSupport();var r=this.checkElementStatus(t),o=r.measurable;if(t=r.element,this.pixels=e,!t)throw new Error('Smart Viewability: passed element to measure is not valid and its value is "'+t+'"');var a=this.mergeOptions(i,t);if(a.videoIntegration||(this.playingCreativeId=Object.keys(e)[0]?String(Object.keys(e)[0]):"1"),this.integration=a.videoIntegration||this.integration,a.logMessages&&(this.logOn=!0),a.testLayer&&(this.resultLayer=this.addInfoLayer()),i&&i.threshold){this.threshold=i.threshold;var s="aboveCallback",l="belowCallback";this.threshold.forEach((function(t){t.lastSent=0,"function"!=typeof t[s]&&(t[s]=function(){return console.log()}),"function"!=typeof t[l]&&(t[l]=function(){return console.log()})}))}t.id||(t.id="sas_"+(new Date).getTime()+"rnd"),this.isIOSupported?this.initIntersactionObserver(t,a):this.counterId=this.w.setInterval((function(){t&&n.checkElement(t,a,o)}),100),window.addEventListener("beforeunload",(function(){n.executePixels(n.playingCreativeId,"notviewable")}))},e.prototype.checkCurrentState=function(){this.hasFocus=!0,void 0===this.intersectionObserverCallback||this.isIOCallbackCalled||this.intersectionObserverCallback(this.lastIntersectionObserverEntry)},e.prototype.initIntersactionObserver=function(t,e){var i,n,r=this;this.intersectionObserverCallback=function(o){r.lastIntersectionObserverEntry=o,o&&o.forEach((function(o){r.checkThreshold(100*o.intersectionRatio),void 0!==(null==e?void 0:e.area)&&100*o.intersectionRatio>=e.area&&r.playingCreativeId?n=r.w.setTimeout((function(){r.hasFocus&&(r.isIOCallbackCalled=!0,r.triggerViewableEvent(e),r.integration<2&&i.unobserve(t))}),1e3*(e.delay||0)):r.w.clearTimeout(n)}))};var o={threshold:((null==e?void 0:e.area)||0)/100};this.hasFocus&&(i=new this.w.IntersectionObserver(this.intersectionObserverCallback,o)).observe(t)},e.prototype.checkElement=function(t,e,i){if(this.log("checkElement",t,e),i||this.executePixels(this.playingCreativeId,"undetermined"),!this.d.getElementById(t.id))return window.clearInterval(this.counterId),void this.log("backup exit - in the meantime someone could remove / close the ad",t);this.isAMPFrame?this.w.context&&!this.isAmpVisSub&&this.subscribeAmpVis():this.isSafeFrame?this.elVis=Math.round(this.w.$sf.ext.inViewPercentage()):this.elVis=this.getVisibilityPercent(t,e),this.log("Element visibility "+this.elVis+"%"),this.playingCreativeId&&this.hasFocus&&void 0!==(null==e?void 0:e.area)&&this.elVis>=e.area?(this.timeCounter++,this.timeCounter>=10*(e.delay||0)&&this.triggerViewableEvent(e)):this.timeCounter=0,this.checkThreshold(this.elVis)},e.prototype.triggerViewableEvent=function(t){this.log("Element visible more than "+t.area+"% for "+Math.round(this.timeCounter/10)+" seconds"),this.executePixels(this.playingCreativeId,"viewable"),this.executeViewCallback(t),t.testLayer&&this.resultLayer&&(this.resultLayer.innerHTML="&#10004;")},e.prototype.executeViewCallback=function(t){t.viewCallback&&(t.viewCallback(),t.viewCallback=void 0,this.log("View callback function called"))},e.prototype.checkElementStatus=function(t){var e={measurable:!0,element:t};if(!t||window.self===window.top||this.w.self===this.w.top)return this.log("No iframe detected"),e;this.log("Iframe detected");var i=this.getTopWindow();return this.w=i.currentWindow,this.d=this.w.document,e.element=null===i.currentFrame||i.currentFrame.parentNode===t.parentNode?t:i.currentFrame,i.currentWindow.$sf&&i.currentWindow.$sf.ext?(this.log("SafeFrame detected"),e.element=e.element||t,this.isSafeFrame=!0):void 0!==window.inDapIF&&window.inDapIF?(this.log("Friendly iframe detected"),e.element=t):i.currentWindow===window.top?this.log("Secured iframe detected"):this.isAMPFrame?this.log("AMP iframe detected"):(this.log("Cross-domain iframe detected"),this.isIOSupported||(e.element=t,e.measurable=!1)),e},e.prototype.area=function(t){var e=t.getBoundingClientRect();return(e.right-e.left)*(e.bottom-e.top)},e.prototype.addInfoLayer=function(){var t=this.addElement("div",document.body,{id:"testLayer_"+Math.round(1e5*Math.random()),style:"width:60px;height:30px;position:fixed;top:0;right:0;background-color:yellow;\n\t\t\tcolor:blue;font-size:20px;text-align:center;padding-top:5px;z-index:99999;"});return t.innerHTML="0%",t},e.prototype.checkThreshold=function(t){for(var e,i,n="area",r="lastSent",o=0,a=this.threshold;o<a.length;o++){var s=a[o];s[n]>t&&s[r]<=0?(null===(e=s.belowCallback)||void 0===e||e.call(s),s[r]=1):s[n]<=t&&s[r]>=0&&(null===(i=s.aboveCallback)||void 0===i||i.call(s),s[r]=-1)}},e.prototype.calculateArea=function(t,e){return!this.isMobile()&&0===t.videoIntegration&&e.clientHeight*e.clientWidth>242500?30:50},e.prototype.mergeOptions=function(t,e){var i={area:null==t?void 0:t.area,testLayer:(null==t?void 0:t.testLayer)||!1,logMessages:(null==t?void 0:t.logMessages)||!1,videoIntegration:(null==t?void 0:t.videoIntegration)||0,threshold:(null==t?void 0:t.threshold)||[],viewCallback:null==t?void 0:t.viewCallback};return t&&t.delay?i.delay=t.delay:i.delay=i.videoIntegration?2:1,i.area||(i.area=this.calculateArea(i,e)),i},e.prototype.executePixels=function(t,e){if(null==t)return!1;var i=!1;return this.pixels[t]&&this.pixels[t][e]&&(this.trackArrayOfPixels(this.pixels[t][e]),i=!0,delete this.pixels[t],this.playingCreativeId=null,this.integration<2&&this.w.clearInterval(this.counterId)),this.isAmpVisSub&&this.ampListen&&this.ampListen(),i},e.prototype.getVisibilityPercent=function(t,e){var i=this.area(t);if(0===i)return 0;var n=t.getBoundingClientRect(),r=Math.max(0,Math.min(n.bottom,this.w.innerHeight)-Math.max(0,n.top)),o=Math.max(0,Math.min(n.right,this.w.innerWidth)-Math.max(0,n.left)),a=Math.round(r*o*100/i);return e.testLayer&&this.resultLayer&&(n.top<0?(this.resultLayer.style.top="auto",this.resultLayer.style.bottom="0px"):(this.resultLayer.style.top="0px",this.resultLayer.style.bottom="auto"),this.resultLayer.innerHTML.replace("%","")!==a.toString()&&(this.resultLayer.innerHTML=a+"%")),a},e.prototype.subscribeAmpVis=function(){var t=this;this.isAmpVisSub=!0,this.ampListen=this.w.context.observeIntersection((function(e){e.forEach((function(e){t.elVis=100*e.intersectionRatio}))}))},e.prototype.isIntersectionObserverSupport=function(){return"IntersectionObserver"in this.w&&"IntersectionObserverEntry"in this.w},e}(i(7322).Global);e.ViewabilityCore=o},7010:function(t,e,i){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Viewability=void 0;var o=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.init=function(t,e,i){this.log("init"),this.start(t,e,i)},e}(i(5395).ViewabilityCore);e.Viewability=o,window.Viewability=o}},e={};(function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports})(4831)}();